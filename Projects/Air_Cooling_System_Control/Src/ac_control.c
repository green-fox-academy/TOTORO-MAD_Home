/* Includes ------------------------------------------------------------------*/
#include "ac_control.h"
#include "stm32l4xx_hal.h"
#include "init.h"

/* Private typedef -----------------------------------------------------------*/
/* Private define ------------------------------------------------------------*/
#define COMMAND_SIZE	268
/* Private macro -------------------------------------------------------------*/
/* Private variables --------------------------------------------------------*/
/* Command arrays */

const uint16_t degree_16[] = {4709, 2620, 326, 408, 367, 982, 326, 1023, 326, 408, 367, 982, 326, 408, 326, 449,
		 326, 408, 326, 408, 367, 982, 326, 408, 367, 408, 326, 1023, 326, 408, 326, 408,
		 367, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 982, 367, 408, 326, 408,
		 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 367, 408,
		 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 982, 367, 408, 326, 408,
		 367, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 982, 367, 408, 326, 408,
		 367, 367, 367, 408, 326, 1023, 326, 982, 367, 408, 326, 982, 367, 408, 326, 408,
		 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 367, 982,
		 326, 408, 326, 20151, 4668, 6593, 9337, 4996, 367, 408, 326, 408, 367, 408, 326,
		 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 367,
		 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326,
		 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367,
		 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326,
		 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367,
		 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326,
		 408, 367, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 408, 367,
		 408, 326, 408, 367, 408, 326, 408, 367, 367, 367, 20151, 4668, 15318};

const uint16_t degree_17[] = {4668, 2620, 367, 408,
		326, 941, 449, 900, 449, 326, 367, 941, 449, 326, 367, 408, 326, 408, 367, 408,
		326, 941, 449, 326, 367, 408, 326, 941, 449, 367, 326, 449, 326, 408, 326, 982,
		367, 941, 449, 859, 449, 367, 326, 941, 449, 900, 449, 326, 367, 408, 326, 449,
		326, 941, 449, 326, 367, 408, 326, 408, 367, 941, 449, 326, 367, 408, 326, 408,
		367, 408, 326, 408, 326, 408, 367, 941, 449, 326, 367, 408, 326, 408, 367, 408,
		326, 408, 326, 449, 326, 408, 326, 941, 449, 326, 367, 408, 367, 408, 326, 941,
		449, 900, 449, 859, 449, 326, 367, 982, 408, 367, 326, 408, 367, 408, 326, 408,
		326, 449, 326, 408, 326, 408, 367, 408, 326, 982, 367, 408, 326, 408, 326, 20151,
		4668, 6593, 9296, 4996, 408, 367, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408,
		326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408,
		326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 449,
		326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408,
		326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408,
		367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408,
		326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408,
		326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 449, 326, 408, 326, 408,
		367, 408, 326, 408, 326, 20151, 4668, 10812};

const uint16_t degree_18[] = {4709, 2538, 449, 326, 449, 859, 449, 900,
		449, 285, 449, 900, 449, 285, 449, 326, 367, 449, 326, 408, 326, 941, 449, 326,
		449, 326, 367, 941, 449, 285, 449, 326, 367, 408, 326, 941, 449, 900, 449, 900,
		408, 326, 449, 900, 408, 900, 449, 326, 449, 326, 367, 408, 326, 941, 449, 285,
		449, 326, 367, 449, 326, 941, 449, 285, 449, 326, 367, 408, 367, 408, 326, 408,
		367, 408, 326, 941, 449, 285, 449, 326, 367, 408, 367, 408, 326, 408, 326, 449,
		326, 408, 326, 941, 449, 326, 449, 285, 449, 326, 367, 408, 367, 408, 326, 408,
		367, 900, 449, 900, 449, 285, 449, 367, 326, 449, 326, 408, 326, 408, 367, 408,
		326, 408, 367, 941, 449, 859, 449, 326, 408, 326, 367, 20151, 4668, 6593, 9255, 5037,
		326, 449, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408,
		326, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 449, 326, 408,
		326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 449, 326, 408, 326, 408,
		367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408,
		326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408,
		326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 449,
		326, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408,
		326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408,
		326, 20151, 4668, 11385};

const uint16_t degree_19[] = {4709, 2579, 449, 326, 367, 941, 408, 900, 449, 326, 367, 941,
		449, 326, 367, 408, 367, 408, 326, 408, 326, 941, 449, 326, 367, 408, 367, 941,
		449, 326, 367, 408, 326, 408, 367, 941, 449, 900, 408, 900, 449, 326, 408, 900,
		367, 941, 449, 326, 367, 408, 367, 408, 326, 941, 449, 326, 367, 408, 326, 449,
		326, 941, 449, 326, 367, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 941,
		449, 326, 367, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 900,
		449, 367, 326, 449, 326, 408, 326, 941, 449, 326, 367, 408, 367, 941, 449, 859,
		449, 326, 367, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 449, 326, 408,
		326, 408, 367, 941, 367, 408, 326, 20151, 4668, 6593, 9296, 4996, 326, 449, 326, 408,
		326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 449,
		326, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 449, 326, 408,
		326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 408, 367, 408, 326, 408,
		367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 326, 449,
		326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408,
		326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408,
		367, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408,
		326, 408, 326, 449, 326, 408, 326, 449, 326, 408, 326, 408, 326, 20151, 4668, 11385};

const uint16_t degree_20[] = {4668, 2579, 449, 326, 367, 1023, 326, 941, 449, 326, 367, 941, 449, 326, 367, 408,
		326, 408, 367, 408, 326, 982, 326, 449, 326, 408, 326, 1023, 326, 408, 326, 449,
		326, 408, 326, 941, 449, 900, 367, 941, 449, 367, 326, 941, 449, 900, 449, 326,
		367, 408, 326, 449, 326, 941, 449, 326, 367, 408, 326, 408, 367, 941, 367, 408,
		367, 408, 326, 408, 367, 408, 326, 408, 326, 408, 367, 941, 449, 326, 367, 408,
		326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 941, 449, 326, 367, 408,
		367, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 941, 449, 326,
		367, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 941,
		449, 859, 449, 20110, 4627, 6593, 9296, 4996, 367, 408, 367, 408, 326, 408, 326, 449,
		326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408,
		326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408,
		367, 408, 326, 408, 326, 449, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408,
		326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408,
		326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 449,
		326, 408, 326, 408, 326, 449, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408,
		326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408,
		367, 408, 326, 408, 326, 449, 326, 408, 326, 20151, 4627, 12000};

const uint16_t degree_21[] = {4709, 2579, 449, 326,
		367, 941, 449, 900, 449, 326, 326, 941, 449, 367, 326, 449, 326, 408, 326, 449,
		326, 941, 367, 408, 367, 408, 326, 941, 449, 326, 367, 408, 326, 449, 326, 982,
		367, 941, 449, 859, 449, 326, 367, 941, 449, 900, 449, 326, 367, 408, 326, 408,
		367, 900, 449, 367, 326, 449, 326, 408, 326, 941, 449, 326, 367, 408, 367, 408,
		326, 408, 367, 408, 326, 408, 326, 941, 449, 326, 367, 449, 326, 408, 326, 408,
		367, 408, 326, 408, 326, 449, 326, 941, 449, 326, 367, 408, 326, 408, 367, 941,
		449, 326, 367, 408, 326, 408, 326, 449, 326, 941, 449, 326, 367, 408, 326, 449,
		326, 408, 326, 408, 367, 408, 326, 941, 449, 326, 367, 941, 449, 859, 449, 20110,
		4627, 6593, 9296, 4996, 367, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408,
		367, 408, 326, 408, 326, 449, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408,
		326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408,
		326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 449,
		326, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 449, 326, 408,
		326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408,
		367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408,
		326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408,
		326, 408, 367, 367, 367, 20151, 4627, 10812};

const uint16_t degree_22[] = {4709, 2579, 449, 326, 367, 941, 408, 900,
		449, 326, 367, 941, 449, 326, 367, 408, 367, 408, 326, 408, 326, 1023, 326, 408,
		326, 408, 367, 941, 367, 408, 367, 408, 326, 408, 367, 941, 449, 859, 449, 900,
		449, 326, 408, 900, 367, 982, 367, 408, 326, 408, 367, 408, 326, 941, 449, 326,
		367, 408, 326, 449, 326, 941, 449, 326, 367, 408, 326, 408, 367, 408, 326, 408,
		326, 449, 326, 941, 449, 326, 367, 408, 326, 449, 326, 408, 326, 408, 367, 408,
		326, 408, 367, 900, 490, 326, 326, 449, 326, 408, 326, 408, 367, 941, 449, 326,
		367, 408, 326, 408, 367, 941, 449, 326, 367, 408, 326, 408, 326, 449, 326, 408,
		326, 408, 367, 408, 326, 941, 449, 900, 449, 859, 449, 20069, 4668, 6593, 9296, 4996,
		367, 408, 326, 408, 326, 449, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408,
		326, 408, 326, 449, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408,
		326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 449,
		326, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 449, 326, 408,
		326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408,
		367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408,
		326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408,
		326, 449, 326, 408, 326, 408, 326, 449, 326, 408, 326, 449, 326, 408, 326, 408,
		326, 20151, 4668, 10812};

const uint16_t degree_23[] = {4668, 2579, 449, 326, 367, 941, 449, 900, 449, 326, 367, 941,
		449, 326, 367, 408, 326, 408, 367, 408, 326, 941, 449, 326, 367, 408, 326, 941,
		449, 326, 367, 449, 326, 408, 326, 941, 449, 900, 449, 859, 449, 326, 367, 941,
		449, 900, 449, 326, 367, 408, 326, 408, 367, 941, 449, 326, 367, 408, 326, 408,
		326, 982, 449, 326, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 941,
		449, 326, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 941,
		449, 326, 367, 408, 367, 408, 326, 941, 449, 900, 408, 367, 326, 449, 326, 408,
		326, 941, 449, 326, 367, 449, 326, 408, 326, 408, 367, 408, 326, 408, 326, 941,
		449, 900, 449, 900, 449, 859, 449, 20069, 4668, 6593, 9296, 4996, 367, 408, 326, 408,
		326, 449, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408,
		326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408,
		326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 449, 326, 408, 326, 408,
		367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408,
		326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408,
		326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 449,
		326, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408,
		326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 326, 20151, 4668, 9665};

const uint16_t degree_24[] = {4709, 2538, 449, 326, 449, 859, 449, 900, 449, 285, 449, 900, 449, 285, 449, 326,
		449, 285, 449, 326, 408, 900, 449, 326, 449, 285, 449, 900, 449, 285, 408, 408,
		326, 408, 367, 900, 449, 900, 449, 900, 449, 285, 449, 900, 408, 900, 449, 326,
		408, 326, 449, 285, 449, 900, 449, 367, 326, 408, 326, 449, 326, 941, 367, 408,
		367, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 941, 449, 367, 326, 408,
		326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 941, 449, 367, 326, 449,
		326, 408, 326, 408, 367, 408, 326, 941, 449, 367, 326, 408, 367, 900, 449, 367,
		326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 449,
		326, 408, 326, 20151, 4627, 6593, 9296, 4996, 367, 408, 367, 408, 326, 408, 326, 449,
		326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408,
		326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 449, 326, 408, 326, 408,
		367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408,
		326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408,
		326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 449,
		326, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408,
		326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408,
		367, 408, 326, 408, 326, 449, 326, 408, 326, 20151, 4627, 12573};

const uint16_t degree_25[] = {4668, 2579, 449, 326,
		367, 941, 449, 900, 449, 326, 367, 941, 449, 326, 367, 408, 326, 408, 326, 449,
		326, 941, 449, 326, 367, 408, 326, 941, 449, 326, 367, 408, 367, 408, 326, 941,
		449, 900, 449, 859, 449, 326, 367, 941, 449, 900, 449, 326, 367, 408, 326, 408,
		367, 941, 408, 367, 367, 408, 326, 408, 326, 941, 449, 367, 326, 449, 326, 408,
		326, 408, 367, 408, 326, 408, 367, 941, 408, 367, 326, 449, 326, 408, 326, 449,
		326, 408, 326, 408, 367, 408, 326, 941, 449, 326, 367, 408, 326, 449, 326, 941,
		449, 326, 367, 941, 449, 326, 367, 408, 326, 941, 449, 326, 367, 408, 367, 408,
		326, 408, 367, 408, 326, 408, 326, 941, 449, 326, 367, 449, 326, 408, 326, 20151,
		4627, 6593, 9296, 4996, 367, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408,
		367, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408,
		326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408,
		326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 449,
		326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408,
		326, 408, 326, 449, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408,
		326, 449, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 326, 449,
		326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408,
		326, 408, 367, 367, 367, 20151, 4627, 11426};

const uint8_t degree_26[] = {2, 0, 1, 1, 0, 1, 0, 0, 0, 0,
		1, 0, 0, 1, 0, 0, 0, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1, 0,
		0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1,
		0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0,
		0, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2};

const uint8_t degree_27[] = {2, 0,
		1, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 1, 1, 1,
		0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1,
		0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 0, 0, 1, 0,
		0, 0, 0, 0, 0, 1, 1, 0, 0, 2, 2, 2, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 2, 2};

const uint8_t degree_28[] = {2, 0, 1, 1, 0, 1, 0, 0, 0, 0, 1, 0,
		0, 1, 0, 0, 0, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0,
		1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0,
		0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 2,
		2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2};

const uint8_t degree_29[] = {2, 0, 1, 1,
		0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 1, 1, 1, 0, 1,
		1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0,
		0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0,
		0, 0, 0, 1, 0, 1, 0, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 2, 2};

const uint8_t degree_30[] = {2, 0, 1, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1,
		0, 0, 0, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0,
		0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 2, 2, 2,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2};

const uint16_t onoff[] = {4709, 2620, 367, 408, 326, 982, 367, 982, 326, 408, 367, 982,
		326, 408, 367, 408, 326, 408, 367, 408, 326, 982, 367, 408, 326, 408, 367, 982,
		326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 1023,
		326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408,
		367, 408, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 367, 982,
		326, 408, 326, 449, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 982,
		367, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 982,
		367, 982, 326, 408, 326, 449, 326, 408, 326, 449, 326, 408, 326, 1023, 326, 408,
		326, 408, 367, 408, 326, 982, 367, 20151, 4668, 6593, 9296, 4996, 367, 408, 326, 449,
		326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408,
		326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 367, 408,
		326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408,
		367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408, 367, 408,
		326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408, 326, 408,
		367, 408, 326, 408, 367, 408, 326, 408, 326, 449, 326, 408, 326, 408, 367, 408,
		326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 408, 367, 408, 326, 408,
		367, 408, 326, 408, 367, 408, 326, 408, 367, 408, 326, 408, 326, 20151, 4668, 15318};


/* PWM variables */
extern TIM_HandleTypeDef tim_pwm_handle;
extern TIM_OC_InitTypeDef pwm_conf;
/* Private function prototypes -----------------------------------------------*/
/* Private functions ---------------------------------------------------------*/

void send_signal(const uint16_t *array)
{
	for (int i = 0; i < COMMAND_SIZE; i = i + 2) {
		tim_pwm_handle.Instance->CCR1 = 0;
		delay(13);
		tim_pwm_handle.Instance->CCR1 = 50;
		delay(array[i]);
		tim_pwm_handle.Instance->CCR1 = 100;
		delay(array[(i+1)]);
	}
}

void make_signal(const uint8_t *array)
{
	uint8_t counter = 1;
	for (int i = 0; i < (COMMAND_SIZE / 2); i++) {
		if (array[i] == 0) {
			HAL_TIM_PWM_Start(&tim_pwm_handle, TIM_CHANNEL_1);
			delay(360);
			HAL_TIM_PWM_Stop(&tim_pwm_handle, TIM_CHANNEL_1);
			delay(410);
		} else if (array[i] == 1) {
			HAL_TIM_PWM_Start(&tim_pwm_handle, TIM_CHANNEL_1);
			delay(360);
			HAL_TIM_PWM_Stop(&tim_pwm_handle, TIM_CHANNEL_1);
			delay(980);
		} else if (array[i] == 2) {
			switch (itoa(counter)) {
			case '1':
				HAL_TIM_PWM_Start(&tim_pwm_handle, TIM_CHANNEL_1);
				delay(4700);
				HAL_TIM_PWM_Stop(&tim_pwm_handle, TIM_CHANNEL_1);
				delay(2580);
				break;
			case '2':
				HAL_TIM_PWM_Start(&tim_pwm_handle, TIM_CHANNEL_1);
				delay(360);
				HAL_TIM_PWM_Stop(&tim_pwm_handle, TIM_CHANNEL_1);
				delay(20150);
				break;
			case '3':
				HAL_TIM_PWM_Start(&tim_pwm_handle, TIM_CHANNEL_1);
				delay(4700);
				HAL_TIM_PWM_Stop(&tim_pwm_handle, TIM_CHANNEL_1);
				delay(9300);
				break;
			case '4':
				HAL_TIM_PWM_Start(&tim_pwm_handle, TIM_CHANNEL_1);
				delay(360);
				HAL_TIM_PWM_Stop(&tim_pwm_handle, TIM_CHANNEL_1);
				delay(20150);
				break;
			case '5':
				HAL_TIM_PWM_Start(&tim_pwm_handle, TIM_CHANNEL_1);
				delay(4700);
				HAL_TIM_PWM_Stop(&tim_pwm_handle, TIM_CHANNEL_1);
				break;
			default:
				break;
			} //switch
		} //else
		counter++;
	} //for
} //function

void set_ac(uint8_t command)
{
	switch (command) {
	case 16:
		printf("16 signal start\n");
		send_signal(degree_16);
		printf("16 signal stop\n");
	    break;
	case 17:
		send_signal(degree_17);
	    break;
	case 18:
		send_signal(degree_18);
	    break;
	case 19:
		send_signal(degree_19);
		break;
	case 20:
		send_signal(degree_20);
	    break;
	case 21:
		send_signal(degree_21);
	    break;
	case 22:
		send_signal(degree_22);
	    break;
	case 23:
		send_signal(degree_23);
	    break;
	case 24:
		send_signal(degree_24);
	    break;
	case 25:
		send_signal(degree_25);
	    break;
	case 26:
		make_signal(degree_26);
	    break;
	case 27:
		make_signal(degree_27);
	    break;
	case 28:
		make_signal(degree_28);
	    break;
	case 29:
		make_signal(degree_29);
	    break;
	case 30:
		make_signal(degree_30);
	    break;
	case 31:
		send_signal(onoff);
	    break;
	default:
	    break;
	}
}



